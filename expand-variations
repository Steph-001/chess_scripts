#!/usr/bin/env bash
# Wrapper script for expand_variations.py
# Automatically activates virtual environment and runs the script

# Get the directory where this script is located
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# Path to virtual environment (adjust if needed)
VENV_PATH="$SCRIPT_DIR/venv"

# Path to Python script
PYTHON_SCRIPT="$SCRIPT_DIR/expand_variations.py"

# Check if venv exists
if [ ! -d "$VENV_PATH" ]; then
    echo "Error: Virtual environment not found at $VENV_PATH"
    echo "Please create it first with: python3 -m venv $VENV_PATH"
    echo "Then install dependencies: $VENV_PATH/bin/pip install chess"
    exit 1
fi

# Check if Python script exists
if [ ! -f "$PYTHON_SCRIPT" ]; then
    echo "Error: Python script not found at $PYTHON_SCRIPT"
    exit 1
fi

# Activate venv and run the script with all arguments
"$VENV_PATH/bin/python" "$PYTHON_SCRIPT" "$@"
